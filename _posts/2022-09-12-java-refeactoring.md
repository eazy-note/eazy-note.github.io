---
layout: single
title : "1장. 리팩토링을 하자"
categories: 자바로배우는리팩토링입문
---

# # 1. 리팩토링
프로그램의 동작은 바뀌지 않고 프로그램 내부 구조를 개선한다. (무엇을 위해??)    

***  
## 리팩토링의 목적
기능 추가나 버그 수정이 되는것도 아닌데 리팩토링은 왜 하는걸까?

1. 프로그램 구조가 개선되면서 버그 수정이 쉬워진다.
   * 읽기 쉽고 디버깅도 쉬워져서 버그 찾기가 수월해 진다.
2. 기능 추가가 쉽다.
   * '일단 만들어두고 나중에 개선하자'가 반복되면 덕지덕지 누더기 같은 코드가 된다.  
   * 잘 정돈 된 구조에는 기능추가 하기가 쉽다. 
3. 리뷰하기가 쉽다.
   * 읽기 쉬운 코드가 유지되므로 코드 리뷰 하기가 쉽다.
4. 코드 베이스를 더 관리 하게 된다.(내 생각)
   * 관리 되고 있는 코드는 더럽혀지는게 싫다. 그래서 더 관리하게 된다.

## 리팩토링과 악취
'악취' 라는 말은 [리펙토링:코드 품질을 개선하는 객체지향 사고법] 에서 나온말로 안좋은 구조의 코드를 감각적으로 알 수 있는 좋은 비유다.  
실무 하면서 자주 마주치는 몇가지는 아래와 같고, 보이면 빠른 시일 내에 리팩토링 해야한다.  
그렇지 않으면 가까운 미래에 눈물을 흘리게 된다.

1. 중복 코드
2. 너무 긴 메서드
3. 방대한 클래스
4. 과다한 매개변수
5. 변경 발산 (변경이 발생하면 여러곳이 수정되어야 한다.)



## 리팩토링 에센스
리팩토링을 진행 할때는 반드시 **한번에 하나씩** 진행 한다.  

예를들어 메소드 추출을 진행하고 있는데 다른곳에 있는 변수 명이 별로여서 바꾸고 싶다는 생각이 들 수 도 있는데 그러지 말라는 것이다.  
지금 하고 있는 메소드 추출을 마무리 하고 다른 리팩토링을 진행하자.  
그래야 리팩토링이 실패 했을때 단계별로 되돌리기가 쉽고, 단계마다 제대로 진행되고 있는지 확인이 가능하다.


## 정리
프로그램에 기능을 추가해 나가면서 구조 개선에 신경쓰지 않으면 누더기같은 코드가 되기 십상이다.  
기능 개발은 기본이고 언젠가 내 코드를 읽게 될 동료를 위해서 (실제로는 본인이 제일 이득..) 코드 베이스를 깔끔하게 유지해야한다.  

리팩토링은 습관이다.  
안좋은 구조가 보이면 즉시 개선해서 악취가 나지 않도록 하자. (그게 아무리 작은 개선이라 할지라도..)  

   
